{% extends "base.html" %}
{% block title %}{{ user.username }}{% endblock %}
{% block content %}
<h1>{{ user.username }}</h1>
<p>{{ user.bio }}</p>
<section>
  <h2>{{ _('Contribution Metrics') }}</h2>
  <ul class="list-group">
    <li class="list-group-item">{{ _('Posts') }}: {{ post_count }}</li>
    <li class="list-group-item">{{ _('Citations') }}: {{ citation_count }}</li>
  </ul>
</section>
<section>
  <h2>{{ _('Recent Posts') }}</h2>
  <ul class="list-group">
  {% for p in posts %}
    <li class="list-group-item"><a href="{{ url_for('document', language=p.language, doc_path=p.path) }}">{{ p.title }}</a></li>
  {% else %}
    <li class="list-group-item">{{ _('No posts yet.') }}</li>
  {% endfor %}
  </ul>
</section>
<section>
  <h2>{{ _('Edited Posts') }}</h2>
  <ul class="list-group">
  {% for p in edited_posts %}
    <li class="list-group-item"><a href="{{ url_for('document', language=p.language, doc_path=p.path) }}">{{ p.title }}</a></li>
  {% else %}
    <li class="list-group-item">{{ _('No edits yet.') }}</li>
  {% endfor %}
  </ul>
</section>
{% if current_user.is_authenticated and current_user.id == user.id %}
<section>
  <h2>{{ _('Edit Profile') }}</h2>
  <form method="post">
    <div class="mb-3">
      <textarea name="bio" placeholder="{{ _('Bio') }}" rows="4" cols="50" class="form-control">{{ user.bio or '' }}</textarea>
    </div>
    <div class="mb-3">
      <button type="submit" class="btn btn-primary">{{ _('Update') }}</button>
    </div>
  </form>
</section>
{% endif %}
{% endblock %}
